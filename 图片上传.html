<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Document</title>
</head>
<script type="text/javascript" src="js/jquery-1.8.3.min.js"></script>
<style type="text/css">
  .inputFile {
    width: 100px;
    height: 100px;
    position: relative;
    margin-top: 50px;
  }

  .file {
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    z-index: 1;
    opacity: 0;
  }

  .inputFile>img {
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
  }

  .inputFile>div {
    position: absolute;
    bottom: -20px;
    left: 0;
  }
</style>

<body>
  <div class="inputFile">
    <input class="file" type="file" onchange="imgShow(this)" />
    <img class="mimg" src="" />
    <div onclick="clearImg(this)">关闭</div>
  </div>
  <div class="inputFile">
    <input class="file" type="file" onchange="imgShow(this)" />
    <img class="mimg" src="" />
  </div>
  <div class="inputFile">
    <input class="file" type="file" onchange="imgShow(this)" />
    <img class="mimg" src="" />
  </div>
  <div class="inputFile">
    <input class="file" type="file" onchange="imgShow(this)" />
    <img class="mimg" src="" />
  </div>
  <div class="inputFile">
    <input class="file" type="file" onchange="imgShow(this)" />
    <img class="mimg" src="" />
  </div>
</body>
<script>
  clearImg = function (element) {
    $(element).parent().find('img').attr('src', '')
  }
  imgShow = function (el) {
    var reader;
    var _this = el;
    if (window.FileReader) {
      reader = new FileReader();
    } else {
      alert("您的设备不支持图片预览功能，如需该功能请升级您的设备！");
    }
    var file = el.files[0];
    console.log(file)
    var imageType = /^image\//;
    //是否是图片
    if (!imageType.test(file.type)) {
      alert("请选择图片！");
      return;
    }
    //读取完成
    reader.onload = function (e) {
      //图片路径设置为读取的图片
      $(_this).parent().find('.mimg').attr('src', e.target.result);
    };
    reader.readAsDataURL(file);
  }
</script>

</html>